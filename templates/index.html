{% extends "layouts/base.html" %}

<!-- Content -->
{% block content %}
<article>
  <header>
    <h2>Welcome!</h2>
  </header>

  {% match user %}
  {% when Some (user) %}
  <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
    {% match user.image_url %}
    {% when Some with (image_url) %}
    <img alt="{{user.username}}" src="/proxy/google_image?url={{image_url}}"
      style="width: 80px; height: 80px; border-radius: var(--pico-border-radius);" />

    {% when None %}
    <img alt="Not found" src="https://placehold.co/80x80?text=Not+Found"
      style="width: 80px; height: 80px; border-radius: var(--pico-border-radius);" />
    {% endmatch %}

    <hgroup>
      <h3>Hello {{user.username}}</h3>
      <p>You are logged in.</p>
    </hgroup>
  </div>
  {% when None %}
  {% endmatch %}

  <footer>
    <a href="/api/auth/logout" role="button" class="secondary" style="padding: 0.5rem 1rem;">Logout</a>
  </footer>
</article>
{% endblock %}
